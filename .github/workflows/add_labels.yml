name: 新增預設 Labels

on:
  workflow_dispatch: # 允許手動觸發

jobs:
  add-labels:
    runs-on: ubuntu-latest
    steps:
      - name: 使用 GitHub API 新增 Labels
        run: |
          LABELS=(
            '{"name": "feature", "color": "dac387", "description": "New Feature Request"}'
            '{"name": "testing", "color": "f9d0c4", "description": "Used to mark features that need testing or are currently being tested"}'
          )

          for LABEL in "${LABELS[@]}"; do
            curl -X POST \
              -H "Accept: application/vnd.github.v3+json" \
              -H "Authorization: Bearer ${{ secrets.GITHUB_TOKEN }}" \
              https://api.github.com/repos/${{ github.repository }}/labels \
              -d "$LABEL"
          done
